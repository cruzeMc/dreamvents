{% extends "base.html" %}
{% block additional %}
    {% include "layout.html" %}
    <script type="application/javascript" src="{{ url_for('static', filename='js/hello.all.min.js') }}"></script>
    <script type="application/javascript" async>
        function swap_stylesheet() {
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                var x = document.getElementById('mobile');
                var y = document.getElementById('desktop');
                if (x.style.visibility !== 'hidden') {
                    x.style.visibility = 'visible';
                    y.style.display = 'none';
                }
            }

            else{
                var x = document.getElementById('mobile');
                var y = document.getElementById('desktop');
                if (x.style.visibility !== 'visible') {
                    x.style.display = 'none';
                    y.style.visibility = 'visible';
                }
            }
        }
    </script>
{% endblock %}
{% block body %}
    <div class="row">
        <h1 class="center">Sign Up</h1>
    </div>

    <button onclick="hello('facebook').logout().then(function() {
        swal('Success', 'You logged out', 'success');
        }, function(e) {
            swal('Ooops....',  e.error.message, 'error');
    });">Logout</button>
    <div id="desktop">
        <div class="row">
            <div class="col s2">
            </div>
            <div class="col s1">
                <input type="image" onclick="hello('google').login({
                    scope: 'email profile https://mail.google.com/ https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/plus.me https://www.googleapis.com/auth/userinfo.profile'})"
                       src="{{ url_for('static', filename='icons/social/google.png') }}"/>
            </div>
            <div class="col s1">
                <input type="image" onclick="hello('facebook').login({
                    scope: 'friends, photos, publish, user_events, user_birthday, rsvp_event, email, public_profile'})"
                       src="{{ url_for('static', filename='icons/social/facebook.png') }}"/>
            </div>
            <div class="col s1">
                <input type="image" onclick="hello('twitter').login()" src="{{ url_for('static', filename='icons/social/twitter.png') }}"
                       src="{{ url_for('static', filename='icons/social/twitter.png') }}" />
            </div>
            <div class="col s1">
                <input type="image" onclick="hello('instagram').login({
                    scope: 'basic comments follower_list likes public_content relationships'})"
                       src="{{ url_for('static', filename='icons/social/instagram.png') }}" />
            </div>
            <div class="col s1">
                <input type="image" onclick="hello('windows').login()"
                       src="{{ url_for('static', filename='icons/social/microsoft.png') }}" />
            </div>
            <div class="col s1">
                <input type="image" onclick="hello('dropbox').login()"
                       src="{{ url_for('static', filename='icons/social/dropbox.png') }}" />
            </div>
            <div class="col s1">
                <input type="image" onclick="hello('linkedin').login()"
                       src="{{ url_for('static', filename='icons/social/linkedin.png') }}" />
            </div>
            <div class="col s2">
                <input type="image" onclick="hello('github').login()"
                       src="{{ url_for('static', filename='icons/social/github.png') }}" />
            </div>
            <div class="col s1">
            </div>
        </div>
    </div>

    <div id="mobile">
        <div class="row center">
            <div class="col s3">
                <input type="image" onclick="hello('google').login({
                    scope: 'email profile https://mail.google.com/ https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/plus.me https://www.googleapis.com/auth/userinfo.profile'})"
                       src="{{ url_for('static', filename='icons/social/google.png') }}"/>
            </div>
            <div class="col s3">
                <input type="image" onclick="hello('facebook').login({
                    scope: 'friends, photos, publish, user_events, user_birthday, rsvp_event, email, public_profile'})"
                       src="{{ url_for('static', filename='icons/social/facebook.png') }}" />
            </div>
            <div class="col s3">
                <input type="image" onclick="hello('twitter').login()" src="{{ url_for('static', filename='icons/social/twitter.png') }}"
                       src="{{ url_for('static', filename='icons/social/twitter.png') }}" />
            </div>
            <div class="col s3">
                <input type="image" onclick="hello('instagram').login({
                    scope: 'basic comments follower_list likes public_content relationships'})"
                       src="{{ url_for('static', filename='icons/social/instagram.png') }}" />
            </div>
        </div>

        <div class="row center">
            <div class="col s3">
                <input type="image" onclick="hello('windows').login()"
                       src="{{ url_for('static', filename='icons/social/microsoft.png') }}" />
            </div>
            <div class="col s3">
                <input type="image" onclick="hello('dropbox').login()"
                       src="{{ url_for('static', filename='icons/social/dropbox.png') }}" />
            </div>
            <div class="col s3">
                <input type="image" onclick="hello('linkedin').login()"
                       src="{{ url_for('static', filename='icons/social/linkedin.png') }}" />
            </div>
            <div class="col s3">
                <input type="image" onclick="hello('github').login()"
                       src="{{ url_for('static', filename='icons/social/github.png') }}" />
            </div>
        </div>
    </div>

    <script type="application/javascript">
    hello.init({
        facebook: '1805263609731402',
        google: '785048580168-i8n5vbijibl6f5s0j05116e1tur7hcfu.apps.googleusercontent.com',
        twitter: 'xSbo7YsmBg590UR4deh6BYax6',
        instagram: '88a81765abdd4079af6fd84ccad53efa',
        windows: '66998304-2f8f-46ef-8f7f-ad023d039340',
        dropbox: 'vvz4pwwilpz6jnn',
        linkedin: '77q04q9sqbvgor',
        github: '706be05ebc8109776129'
    }, {redurect_uri: 'http://localhost:8082/social_login'});

    hello.on('auth.login', function (auth) {
       hello(auth.network).api('/me').then(function (r) {
           console.log("r.email = " + r.email);
           console.log("r.name = " + r.name);
           send_data(JSON.stringify(r), '/login3')
       });
    });
    </script>
    <script type="application/javascript">
        var send_data = function (e, address) {
            $.getJSON($SCRIPT_ROOT + address, {
                a: e
            });
        };
    </script>

{% endblock %}